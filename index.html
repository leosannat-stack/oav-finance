<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordem Antes da Vitória</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        * { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .hidden { display: none !important; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- TELA DE LOGIN/CADASTRO -->
    <div id="authScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-md fade-in">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-slate-900 mb-2">Ordem Antes <span class="text-blue-600">da Vitória</span></h1>
                <p class="text-slate-500" id="authSubtitle">Clareza diária. Controle real.</p>
            </div>

            <!-- Abas Login/Cadastro -->
            <div class="flex mb-6 border-b border-slate-200">
                <button onclick="switchAuth('login')" id="tabLogin" class="flex-1 pb-3 text-blue-600 border-b-2 border-blue-600 font-medium">Entrar</button>
                <button onclick="switchAuth('register')" id="tabRegister" class="flex-1 pb-3 text-slate-400 font-medium">Cadastrar</button>
            </div>

            <!-- Form Login -->
            <form id="loginForm" class="space-y-4">
                <input type="email" id="loginEmail" placeholder="Email" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                <input type="password" id="loginPassword" placeholder="Senha" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition">Entrar</button>
            </form>

            <!-- Form Cadastro -->
            <form id="registerForm" class="space-y-4 hidden">
                <input type="text" id="regName" placeholder="Nome completo" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                <input type="email" id="regEmail" placeholder="Email" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                <input type="password" id="regPassword" placeholder="Senha (mínimo 6 caracteres)" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500" required minlength="6">
                <select id="regCurrency" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="GBP">£ Libra Esterlina (Reino Unido)</option>
                    <option value="BRL">R$ Real Brasileiro</option>
                </select>
                <button type="submit" class="w-full bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition">Criar Conta</button>
            </form>
        </div>
    </div>

    <!-- APP PRINCIPAL -->
    <div id="mainApp" class="hidden min-h-screen flex flex-col">
        
        <!-- Header -->
        <header class="bg-white border-b border-slate-200 sticky top-0 z-40">
            <div class="max-w-6xl mx-auto px-4 h-16 flex items-center justify-between">
                <h1 class="text-xl font-bold text-slate-900">OAV <span class="text-blue-600">Finance</span></h1>
                
                <div class="flex items-center gap-3">
                    <!-- Toggle Moeda -->
                    <button onclick="toggleCurrency()" id="currencyBtn" class="px-3 py-1 bg-slate-100 rounded-lg text-sm font-medium">£ GBP</button>
                    
                    <!-- Perfil -->
                    <div class="relative">
                        <button onclick="toggleProfileMenu()" class="flex items-center gap-2 p-2 hover:bg-slate-100 rounded-lg">
                            <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold" id="userAvatar">JD</div>
                        </button>
                        
                        <!-- Menu Perfil -->
                        <div id="profileMenu" class="hidden absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-slate-200 p-4">
                            <div class="text-center mb-4">
                                <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold mx-auto mb-2" id="menuAvatar">JD</div>
                                <h3 class="font-bold text-slate-900" id="menuUserName">João Doe</h3>
                                <p class="text-sm text-slate-500" id="menuUserEmail">joao@email.com</p>
                            </div>
                            
                            <div class="space-y-3">
                                <div>
                                    <label class="text-xs text-slate-500">Nome</label>
                                    <input type="text" id="editName" class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm">
                                </div>
                                <div>
                                    <label class="text-xs text-slate-500">Email</label>
                                    <input type="email" id="editEmail" class="w-full px-3 py-2 border border-slate-300 rounded-lg text-sm">
                                </div>
                                <button onclick="saveProfile()" class="w-full bg-blue-600 text-white py-2 rounded-lg text-sm hover:bg-blue-700">Salvar Alterações</button>
                            </div>
                            
                            <hr class="my-3">
                            <button onclick="logout()" class="w-full text-red-600 py-2 text-sm hover:bg-red-50 rounded-lg">Sair</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navegação -->
        <nav class="bg-white border-b border-slate-200">
            <div class="max-w-6xl mx-auto px-4 flex gap-6">
                <button onclick="switchTab('dashboard')" class="nav-tab active py-4 border-b-2 border-blue-600 text-blue-600 font-medium text-sm" data-tab="dashboard">Painel</button>
                <button onclick="switchTab('transactions')" class="nav-tab py-4 border-b-2 border-transparent text-slate-500 font-medium text-sm" data-tab="transactions">Transações</button>
                <button onclick="switchTab('goals')" class="nav-tab py-4 border-b-2 border-transparent text-slate-500 font-medium text-sm" data-tab="goals">Metas</button>
            </div>
        </nav>

        <!-- Conteúdo -->
        <main class="flex-1 max-w-6xl mx-auto px-4 py-6 w-full">
            
            <!-- Dashboard -->
            <div id="dashboardTab" class="tab-content space-y-6 fade-in">
                <!-- Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-500 text-sm">Entradas</span>
                            <i class="fas fa-arrow-up text-emerald-500"></i>
                        </div>
                        <p class="text-2xl font-bold text-slate-900" id="cardIncome">£0,00</p>
                    </div>
                    
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-500 text-sm">Saídas</span>
                            <i class="fas fa-arrow-down text-rose-500"></i>
                        </div>
                        <p class="text-2xl font-bold text-slate-900" id="cardExpense">£0,00</p>
                    </div>
                    
                    <div class="bg-slate-900 text-white p-6 rounded-xl shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-slate-300 text-sm">Saldo</span>
                            <i class="fas fa-wallet text-blue-400"></i>
                        </div>
                        <p class="text-2xl font-bold" id="cardBalance">£0,00</p>
                    </div>
                </div>

                <!-- Gráfico -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-900 mb-4">Fluxo de Caixa</h3>
                    <canvas id="mainChart" height="100"></canvas>
                </div>

                <!-- Ações Rápidas -->
                <div class="flex gap-3">
                    <button onclick="openModal('income')" class="flex-1 bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700">
                        <i class="fas fa-plus mr-2"></i>Receita
                    </button>
                    <button onclick="openModal('expense')" class="flex-1 bg-rose-600 text-white py-3 rounded-lg font-medium hover:bg-rose-700">
                        <i class="fas fa-minus mr-2"></i>Despesa
                    </button>
                </div>
            </div>

            <!-- Transações -->
            <div id="transactionsTab" class="tab-content hidden space-y-4 fade-in">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <table class="w-full">
                        <thead class="bg-slate-50">
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500">Data</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500">Descrição</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-slate-500">Categoria</th>
                                <th class="px-4 py-3 text-right text-xs font-medium text-slate-500">Valor</th>
                                <th class="px-4 py-3 text-center text-xs font-medium text-slate-500">Ação</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsList" class="divide-y divide-slate-200"></tbody>
                    </table>
                </div>
            </div>

            <!-- Metas -->
            <div id="goalsTab" class="tab-content hidden space-y-4 fade-in">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-bold text-slate-900">Minhas Metas</h2>
                    <button onclick="openGoalModal()" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700">Nova Meta</button>
                </div>
                <div id="goalsList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            </div>
        </main>
    </div>

    <!-- Modal Transação -->
    <div id="transactionModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl p-6 w-full max-w-md fade-in">
            <h3 class="text-xl font-bold mb-4" id="modalTitle">Nova Transação</h3>
            <form id="transactionForm" class="space-y-4">
                <input type="hidden" id="transType" value="income">
                <input type="text" id="transDesc" placeholder="Descrição" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <input type="number" step="0.01" id="transAmount" placeholder="Valor" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <input type="date" id="transDate" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <select id="transCategory" class="w-full px-4 py-3 border border-slate-300 rounded-lg">
                    <option value="salary">Salário</option>
                    <option value="food">Alimentação</option>
                    <option value="transport">Transporte</option>
                    <option value="housing">Moradia</option>
                    <option value="others">Outros</option>
                </select>
                <div class="flex gap-3">
                    <button type="button" onclick="closeModal()" class="flex-1 py-3 border border-slate-300 rounded-lg hover:bg-slate-50">Cancelar</button>
                    <button type="submit" class="flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Meta -->
    <div id="goalModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl p-6 w-full max-w-md fade-in">
            <h3 class="text-xl font-bold mb-4">Nova Meta</h3>
            <form id="goalForm" class="space-y-4">
                <input type="text" id="goalName" placeholder="Nome da meta" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <input type="number" step="0.01" id="goalTarget" placeholder="Valor alvo" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <input type="date" id="goalDeadline" class="w-full px-4 py-3 border border-slate-300 rounded-lg" required>
                <div class="flex gap-3">
                    <button type="button" onclick="closeGoalModal()" class="flex-1 py-3 border border-slate-300 rounded-lg hover:bg-slate-50">Cancelar</button>
                    <button type="submit" class="flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Criar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Dados
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('oav_users')) || [];
        let transactions = JSON.parse(localStorage.getItem('oav_transactions')) || [];
        let goals = JSON.parse(localStorage.getItem('oav_goals')) || [];
        let chart = null;

        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            checkAuth();
            document.getElementById('transDate').valueAsDate = new Date();
            document.getElementById('goalDeadline').valueAsDate = new Date(Date.now() + 30*24*60*60*1000);
        });

        // Autenticação
        function switchAuth(type) {
            document.getElementById('loginForm').classList.toggle('hidden', type !== 'login');
            document.getElementById('registerForm').classList.toggle('hidden', type !== 'register');
            document.getElementById('tabLogin').className = `flex-1 pb-3 font-medium ${type === 'login' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-slate-400'}`;
            document.getElementById('tabRegister').className = `flex-1 pb-3 font-medium ${type === 'register' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-slate-400'}`;
        }

        document.getElementById('registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const user = {
                id: Date.now(),
                name: document.getElementById('regName').value,
                email: document.getElementById('regEmail').value,
                password: document.getElementById('regPassword').value,
                currency: document.getElementById('regCurrency').value
            };
            
            if (users.find(u => u.email === user.email)) {
                alert('Email já cadastrado!');
                return;
            }
            
            users.push(user);
            localStorage.setItem('oav_users', JSON.stringify(users));
            alert('Conta criada! Faça login.');
            switchAuth('login');
        });

        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                localStorage.setItem('oav_currentUser', JSON.stringify(user));
                loadApp();
            } else {
                alert('Email ou senha incorretos!');
            }
        });

        function checkAuth() {
            const saved = localStorage.getItem('oav_currentUser');
            if (saved) {
                currentUser = JSON.parse(saved);
                loadApp();
            }
        }

        function loadApp() {
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            // Atualiza perfil
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            document.getElementById('menuAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            document.getElementById('menuUserName').textContent = currentUser.name;
            document.getElementById('menuUserEmail').textContent = currentUser.email;
            document.getElementById('editName').value = currentUser.name;
            document.getElementById('editEmail').value = currentUser.email;
            
            // Atualiza moeda
            document.getElementById('currencyBtn').textContent = currentUser.currency === 'GBP' ? '£ GBP' : 'R$ BRL';
            
            updateDashboard();
        }

        function saveProfile() {
            currentUser.name = document.getElementById('editName').value;
            currentUser.email = document.getElementById('editEmail').value;
            
            const idx = users.findIndex(u => u.id === currentUser.id);
            users[idx] = currentUser;
            
            localStorage.setItem('oav_users', JSON.stringify(users));
            localStorage.setItem('oav_currentUser', JSON.stringify(currentUser));
            
            loadApp();
            toggleProfileMenu();
            alert('Perfil atualizado!');
        }

        function logout() {
            localStorage.removeItem('oav_currentUser');
            location.reload();
        }

        function toggleProfileMenu() {
            document.getElementById('profileMenu').classList.toggle('hidden');
        }

        function toggleCurrency() {
            currentUser.currency = currentUser.currency === 'GBP' ? 'BRL' : 'GBP';
            document.getElementById('currencyBtn').textContent = currentUser.currency === 'GBP' ? '£ GBP' : 'R$ BRL';
            
            const idx = users.findIndex(u => u.id === currentUser.id);
            users[idx] = currentUser;
            localStorage.setItem('oav_users', JSON.stringify(users));
            localStorage.setItem('oav_currentUser', JSON.stringify(currentUser));
            
            updateDashboard();
        }

        function formatMoney(value) {
            const symbol = currentUser.currency === 'GBP' ? '£' : 'R$';
            const val = currentUser.currency === 'GBP' ? value : value * 6.2;
            return symbol + ' ' + val.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }

        // Dashboard
        function updateDashboard() {
            const userTrans = transactions.filter(t => t.userId === currentUser.id);
            
            const income = userTrans.filter(t => t.type === 'income').reduce((a, t) => a + t.amount, 0);
            const expense = userTrans.filter(t => t.type === 'expense').reduce((a, t) => a + t.amount, 0);
            
            document.getElementById('cardIncome').textContent = formatMoney(income);
            document.getElementById('cardExpense').textContent = formatMoney(expense);
            document.getElementById('cardBalance').textContent = formatMoney(income - expense);
            
            updateChart(userTrans);
            updateTransactionsList(userTrans);
            updateGoalsList();
        }

        function updateChart(userTrans) {
            const ctx = document.getElementById('mainChart').getContext('2d');
            
            const days = Array.from({length: 7}, (_, i) => {
                const d = new Date();
                d.setDate(d.getDate() - (6 - i));
                return d.toLocaleDateString('pt-BR', {weekday: 'short'});
            });
            
            const data = days.map((_, i) => {
                const d = new Date();
                d.setDate(d.getDate() - (6 - i));
                const dateStr = d.toISOString().split('T')[0];
                return userTrans
                    .filter(t => t.date === dateStr)
                    .reduce((a, t) => a + (t.type === 'income' ? t.amount : -t.amount), 0);
            });
            
            if (chart) chart.destroy();
            
            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: days,
                    datasets: [{
                        label: 'Saldo Diário',
                        data: data,
                        backgroundColor: data.map(v => v >= 0 ? '#10b981' : '#f43f5e'),
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } }
                }
            });
        }

        // Transações
        function openModal(type) {
            document.getElementById('transactionModal').classList.remove('hidden');
            document.getElementById('transType').value = type;
            document.getElementById('modalTitle').textContent = type === 'income' ? 'Nova Receita' : 'Nova Despesa';
        }

        function closeModal() {
            document.getElementById('transactionModal').classList.add('hidden');
            document.getElementById('transactionForm').reset();
            document.getElementById('transDate').valueAsDate = new Date();
        }

        document.getElementById('transactionForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const t = {
                id: Date.now(),
                userId: currentUser.id,
                type: document.getElementById('transType').value,
                description: document.getElementById('transDesc').value,
                amount: parseFloat(document.getElementById('transAmount').value),
                date: document.getElementById('transDate').value,
                category: document.getElementById('transCategory').value
            };
            
            transactions.push(t);
            localStorage.setItem('oav_transactions', JSON.stringify(transactions));
            
            closeModal();
            updateDashboard();
        });

        function updateTransactionsList(userTrans) {
            const tbody = document.getElementById('transactionsList');
            tbody.innerHTML = userTrans.slice(-10).reverse().map(t => `
                <tr class="hover:bg-slate-50">
                    <td class="px-4 py-3 text-sm">${new Date(t.date).toLocaleDateString('pt-BR')}</td>
                    <td class="px-4 py-3 text-sm font-medium">${t.description}</td>
                    <td class="px-4 py-3 text-sm text-slate-500">${t.category}</td>
                    <td class="px-4 py-3 text-sm font-bold text-right ${t.type === 'income' ? 'text-emerald-600' : 'text-rose-600'}">
                        ${t.type === 'income' ? '+' : '-'}${formatMoney(t.amount)}
                    </td>
                    <td class="px-4 py-3 text-center">
                        <button onclick="deleteTrans(${t.id})" class="text-rose-500 hover:text-rose-700"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
            `).join('');
        }

        function deleteTrans(id) {
            if (confirm('Excluir esta transação?')) {
                transactions = transactions.filter(t => t.id !== id);
                localStorage.setItem('oav_transactions', JSON.stringify(transactions));
                updateDashboard();
            }
        }

        // Metas
        function openGoalModal() {
            document.getElementById('goalModal').classList.remove('hidden');
        }

        function closeGoalModal() {
            document.getElementById('goalModal').classList.add('hidden');
            document.getElementById('goalForm').reset();
        }

        document.getElementById('goalForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const g = {
                id: Date.now(),
                userId: currentUser.id,
                name: document.getElementById('goalName').value,
                target: parseFloat(document.getElementById('goalTarget').value),
                current: 0,
                deadline: document.getElementById('goalDeadline').value
            };
            
            goals.push(g);
            localStorage.setItem('oav_goals', JSON.stringify(goals));
            
            closeGoalModal();
            updateGoalsList();
        });

        function updateGoalsList() {
            const userGoals = goals.filter(g => g.userId === currentUser.id);
            const div = document.getElementById('goalsList');
            
            div.innerHTML = userGoals.map(g => {
                const pct = Math.min((g.current / g.target) * 100, 100);
                return `
                    <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-200">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-slate-900">${g.name}</h3>
                            <span class="text-sm text-slate-500">${new Date(g.deadline).toLocaleDateString('pt-BR')}</span>
                        </div>
                        <div class="mb-2">
                            <div class="flex justify-between text-sm mb-1">
                                <span>${formatMoney(g.current)}</span>
                                <span class="font-medium">${formatMoney(g.target)}</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-2">
                                <div class="bg-blue-600 h-2 rounded-full transition-all" style="width: ${pct}%"></div>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <input type="number" id="addGoal_${g.id}" placeholder="Adicionar" class="flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm">
                            <button onclick="addToGoal(${g.id})" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700">+</button>
                            <button onclick="deleteGoal(${g.id})" class="px-3 py-2 text-rose-500 hover:bg-rose-50 rounded-lg"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function addToGoal(goalId) {
            const val = parseFloat(document.getElementById(`addGoal_${goalId}`).value);
            if (!val) return;
            
            const g = goals.find(x => x.id === goalId);
            g.current += val;
            localStorage.setItem('oav_goals', JSON.stringify(goals));
            updateGoalsList();
        }

        function deleteGoal(id) {
            if (confirm('Excluir esta meta?')) {
                goals = goals.filter(g => g.id !== id);
                localStorage.setItem('oav_goals', JSON.stringify(goals));
                updateGoalsList();
            }
        }

        // Navegação
        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.nav-tab').forEach(el => {
                el.classList.remove('active', 'border-blue-600', 'text-blue-600');
                el.classList.add('border-transparent', 'text-slate-500');
            });
            
            document.getElementById(tab + 'Tab').classList.remove('hidden');
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active', 'border-blue-600', 'text-blue-600');
            document.querySelector(`[data-tab="${tab}"]`).classList.remove('border-transparent', 'text-slate-500');
        }

        // Fechar menus ao clicar fora
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.relative')) {
                document.getElementById('profileMenu').classList.add('hidden');
            }
        });
    </script>
</body>
</html>
